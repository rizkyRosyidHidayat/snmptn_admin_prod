(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d22d7ba"],{f84f:function(a,t,e){"use strict";e.r(t);var i=function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("v-card",{staticClass:"ma-md-6 ma-sm-3"},[e("v-card-title",{staticClass:"py-2"},[e("v-icon",{staticClass:"mr-3"},[a._v("mdi-pencil")]),a._v(" Daftar Sekolah ")],1),e("v-divider"),e("v-card-text",[e("TambahSekolah"),e("UploadSekolah"),e("DataSekolah")],1)],1)},l=[],d=function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("div",[a.isLoading?e("Loader"):e("v-data-table",{staticClass:"mt-6",attrs:{headers:a.header,items:a.dataSekolah,"items-per-page":10},scopedSlots:a._u([{key:"item.no",fn:function(t){var e=t.item;return[a._v(" "+a._s(a.dataSekolah.map((function(a){return a.id})).indexOf(e.id)+1)+" ")]}},{key:"no-data",fn:function(){return[e("v-alert",{staticClass:"mt-4",attrs:{type:"info"}},[e("div",[a._v("Data tidak ditemukan")])])]},proxy:!0},{key:"item.action",fn:function(t){var i=t.item;return[e("v-btn",{attrs:{icon:"",color:"success"}},[e("v-icon",{attrs:{small:""}},[a._v("mdi-eye")])],1),e("EditSekolah",{attrs:{data:i}})]}}])})],1)},n=[],s=e("5530"),o=e("2f62"),r=e("555f"),u=function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("v-dialog",{attrs:{width:"500",persistent:""},scopedSlots:a._u([{key:"activator",fn:function(t){var i=t.on;return[e("v-btn",a._g({attrs:{icon:"",color:"primary"}},i),[e("v-icon",{attrs:{small:""}},[a._v("mdi-pencil")])],1)]}}]),model:{value:a.dialog,callback:function(t){a.dialog=t},expression:"dialog"}},[e("v-card",[e("v-card-title",{staticClass:"py-2"},[a._v(" Edit Sekolah ")]),e("v-divider"),e("v-form",{ref:"form",model:{value:a.valid,callback:function(t){a.valid=t},expression:"valid"}},[e("v-card-text",{staticClass:"pa-6 pb-0"},[e("v-text-field",{attrs:{label:"Nama",outlined:"",dense:"",rules:a.requiredRule,autocomplete:"off"},model:{value:a.data.sekolah,callback:function(t){a.$set(a.data,"sekolah",t)},expression:"data.sekolah"}}),e("v-autocomplete",{attrs:{items:a.detailProv,"item-text":"nama","item-value":"id",label:"Provinsi",outlined:"",dense:"",rules:a.requiredRule,autocomplete:"off"},model:{value:a.data.provinsi.id,callback:function(t){a.$set(a.data.provinsi,"id",t)},expression:"data.provinsi.id"}}),e("v-autocomplete",{attrs:{disabled:""===a.data.provinsi.id,items:a.detailKab,"item-text":"nama","item-value":"id",label:"Kabupaten",outlined:"",dense:"",rules:a.requiredRule,autocomplete:"off"},model:{value:a.data.kabupaten.id,callback:function(t){a.$set(a.data.kabupaten,"id",t)},expression:"data.kabupaten.id"}}),e("v-select",{attrs:{items:a.detailJenjang,"item-text":"nama","item-value":"id",label:"Jenjang",outlined:"",dense:"",rules:a.requiredRule,autocomplete:"off"},model:{value:a.data.jenjang.id,callback:function(t){a.$set(a.data.jenjang,"id",t)},expression:"data.jenjang.id"}}),e("v-select",{attrs:{items:a.detailKurikulum,"item-text":"nama","item-value":"id",label:"Kurikulum",outlined:"",dense:"",rules:a.requiredRule,autocomplete:"off"},model:{value:a.data.kurikulum.id,callback:function(t){a.$set(a.data.kurikulum,"id",t)},expression:"data.kurikulum.id"}}),e("v-text-field",{attrs:{label:"Akreditasi",outlined:"",dense:"",rules:a.requiredRule,autocomplete:"off"},model:{value:a.data.akreditasi,callback:function(t){a.$set(a.data,"akreditasi",t)},expression:"data.akreditasi"}})],1),e("v-divider"),e("v-card-actions",[e("v-spacer"),e("v-btn",{attrs:{color:"primary",text:""},on:{click:function(t){a.dialog=!1}}},[a._v(" kembali ")]),e("v-btn",{attrs:{disabled:!a.valid,color:"primary",loading:a.isLoading,type:"submit",depressed:""},on:{click:function(t){return t.preventDefault(),a.validate(t)}}},[a._v(" simpan ")])],1)],1)],1)],1)},c=[],v=(e("4de4"),e("6959")),m={props:["data"],data:function(){return{dialog:!1,valid:!0,requiredRule:[function(a){return!!a||"Data harus diisi"}],msg:{success:"Data berhasil disimpan",error:"Data gagal disimpan",visible:!1}}},components:{Notif:v["a"]},computed:Object(s["a"])({},Object(o["b"])("dataSekolah",["status","isLoading"]),{},Object(o["b"])("dataJenjang",["dataJenjang"]),{},Object(o["b"])("dataKurikulum",["dataKurikulum"]),{},Object(o["b"])("dataTempat",["dataProv","dataKab"]),{detailProv:{get:function(){return this.dataProv},set:function(a){var t=this;this.dataProv.filter((function(a){return a.id===t.data.provinsi.id}))}},detailKab:{get:function(){return this.dataKab},set:function(a){var t=this;this.dataKab.filter((function(a){return a.id===t.data.kabupaten.id}))}},detailJenjang:{get:function(){return this.dataJenjang},set:function(a){var t=this;this.dataJenjang.filter((function(a){return a.id===t.data.jenjang.id}))}},detailKurikulum:{get:function(){return this.dataKurikulum},set:function(a){var t=this;this.dataKurikulum.filter((function(a){return a.id===t.data.kurikulum.id}))}}}),watch:{dialog:function(a){!0===a&&this.$store.dispatch("dataTempat/getDataKab",this.data.provinsi.id)},"data.provinsi.id":function(a){this.$store.dispatch("dataTempat/getDataKab",a)}},methods:{validate:function(){if(this.$refs.form.validate()){var a={nama:this.data.sekolah,kode_sekolah:this.data.id,jenjang_id:this.data.jenjang.id,kabupaten_id:this.data.kabupaten.id,provinsi_id:this.data.provinsi.id,akreditasi:this.data.akreditasi,kurikulum_id:this.data.kurikulum.id};this.$store.dispatch("dataSekolah/putDataSekolah",a),this.$store.dispatch("dataSekolah/updateIsLoading",!0),this.msg.visible=!0}},visible:function(a){this.msg.visible=a,this.$store.commit("dataSekolah/updateStatus",null)}}},p=m,k=e("2877"),f=e("6544"),h=e.n(f),b=e("c6a6"),g=e("8336"),S=e("b0af"),_=e("99d9"),x=e("169a"),j=e("ce7e"),V=e("4bd4"),D=e("132d"),$=e("b974"),y=e("2fa4"),C=e("8654"),K=Object(k["a"])(p,u,c,!1,null,null,null),T=K.exports;h()(K,{VAutocomplete:b["a"],VBtn:g["a"],VCard:S["a"],VCardActions:_["a"],VCardText:_["b"],VCardTitle:_["c"],VDialog:x["a"],VDivider:j["a"],VForm:V["a"],VIcon:D["a"],VSelect:$["a"],VSpacer:y["a"],VTextField:C["a"]});var O={data:function(){return{header:[{text:"No",value:"no",sortable:!1},{text:"Nama",value:"sekolah",sortable:!1},{text:"Provinsi",value:"provinsi.nama",sortable:!1},{text:"Kabupaten",value:"kabupaten.nama",sortable:!1},{text:"Jenjang",value:"jenjang.nama",sortable:!1},{text:"Akreditasi",value:"akreditasi",sortable:!1},{text:"Kurikulum",value:"kurikulum.nama",sortable:!1},{text:"Action",value:"action",align:"center",sortable:!1}]}},components:{Loader:r["a"],EditSekolah:T},created:function(){this.$store.dispatch("dataSekolah/getDataSekolah"),this.$store.dispatch("dataJenjang/getDataJenjang"),this.$store.dispatch("dataKurikulum/getDataKurikulum"),this.$store.dispatch("dataTempat/getDataProv"),this.$store.dispatch("dataSekolah/updateIsLoading",!0)},computed:Object(s["a"])({},Object(o["b"])("dataSekolah",["dataSekolah","isLoading"]))},q=O,J=e("0798"),R=e("8fea"),w=Object(k["a"])(q,d,n,!1,null,null,null),L=w.exports;h()(w,{VAlert:J["a"],VBtn:g["a"],VDataTable:R["a"],VIcon:D["a"]});var A=function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("v-dialog",{attrs:{width:"500",persistent:""},scopedSlots:a._u([{key:"activator",fn:function(t){var i=t.on;return[e("v-btn",a._g({staticClass:"mr-3",attrs:{depressed:"",color:"primary"}},i),[e("v-icon",{staticClass:"mr-3"},[a._v("mdi-plus-circle")]),a._v(" Tambah data ")],1)]}}]),model:{value:a.dialog,callback:function(t){a.dialog=t},expression:"dialog"}},[e("v-card",[e("v-card-title",{staticClass:"py-2"},[a._v(" Tambah Sekolah ")]),e("v-divider"),e("v-form",{ref:"form",model:{value:a.valid,callback:function(t){a.valid=t},expression:"valid"}},[e("v-card-text",{staticClass:"pa-6 pb-0"},[e("v-text-field",{attrs:{label:"Nama",outlined:"",dense:"",rules:a.requiredRule,autocomplete:"off"},model:{value:a.dataSekolah.nama,callback:function(t){a.$set(a.dataSekolah,"nama",t)},expression:"dataSekolah.nama"}}),e("v-autocomplete",{attrs:{items:a.dataProv,"item-text":"nama","item-value":"id",label:"Provinsi",outlined:"",dense:"",rules:a.requiredRule,autocomplete:"off"},model:{value:a.dataSekolah.provinsi_id,callback:function(t){a.$set(a.dataSekolah,"provinsi_id",t)},expression:"dataSekolah.provinsi_id"}}),e("v-autocomplete",{attrs:{disabled:""===a.dataSekolah.provinsi_id,items:a.dataKab,"item-text":"nama","item-value":"id",label:"Kabupaten",outlined:"",dense:"",rules:a.requiredRule,autocomplete:"off"},model:{value:a.dataSekolah.kabupaten_id,callback:function(t){a.$set(a.dataSekolah,"kabupaten_id",t)},expression:"dataSekolah.kabupaten_id"}}),e("v-select",{attrs:{items:a.dataJenjang,"item-text":"nama","item-value":"id",label:"Jenjang",outlined:"",dense:"",rules:a.requiredRule,autocomplete:"off"},model:{value:a.dataSekolah.jenjang_id,callback:function(t){a.$set(a.dataSekolah,"jenjang_id",t)},expression:"dataSekolah.jenjang_id"}}),e("v-select",{attrs:{items:a.dataKurikulum,"item-text":"nama","item-value":"id",label:"Kurikulum",outlined:"",dense:"",rules:a.requiredRule,autocomplete:"off"},model:{value:a.dataSekolah.kurikulum_id,callback:function(t){a.$set(a.dataSekolah,"kurikulum_id",t)},expression:"dataSekolah.kurikulum_id"}}),e("v-text-field",{attrs:{label:"Akreditasi",outlined:"",dense:"",rules:a.requiredRule,autocomplete:"off"},model:{value:a.dataSekolah.akreditasi,callback:function(t){a.$set(a.dataSekolah,"akreditasi",t)},expression:"dataSekolah.akreditasi"}})],1),e("v-divider"),e("v-card-actions",[e("v-spacer"),e("v-btn",{attrs:{color:"primary",text:""},on:{click:function(t){a.dialog=!1}}},[a._v(" kembali ")]),e("v-btn",{attrs:{disabled:!a.valid,color:"primary",type:"submit",depressed:""},on:{click:function(t){return t.preventDefault(),a.validate(t)}}},[a._v(" simpan ")])],1)],1)],1)],1)},P=[],N={data:function(){return{dialog:!1,valid:!0,dataSekolah:{nama:"",provinsi_id:"",kabupaten_id:"",jenjang_id:"",kurikulum_id:"",akreditasi:""},requiredRule:[function(a){return!!a||"Data harus diisi"}],msg:{success:"Data berhasil disimpan",error:"Data gagal disimpan",visible:!1}}},components:{Notif:v["a"]},computed:Object(s["a"])({},Object(o["b"])("dataSekolah",["status","isLoading"]),{},Object(o["b"])("dataJenjang",["dataJenjang"]),{},Object(o["b"])("dataKurikulum",["dataKurikulum"]),{},Object(o["b"])("dataTempat",["dataProv","dataKab"])),watch:{"dataSekolah.provinsi_id":function(a){this.$store.dispatch("dataTempat/getDataKab",a)}},methods:{validate:function(){this.$refs.form.validate()&&console.log(this.dataSekolah)}}},B=N,E=Object(k["a"])(B,A,P,!1,null,null,null),I=E.exports;h()(E,{VAutocomplete:b["a"],VBtn:g["a"],VCard:S["a"],VCardActions:_["a"],VCardText:_["b"],VCardTitle:_["c"],VDialog:x["a"],VDivider:j["a"],VForm:V["a"],VIcon:D["a"],VSelect:$["a"],VSpacer:y["a"],VTextField:C["a"]});var F=function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("v-dialog",{attrs:{width:"500",persistent:""},scopedSlots:a._u([{key:"activator",fn:function(t){var i=t.on;return[e("v-btn",a._g({staticClass:"mr-3",attrs:{depressed:"",color:"success"}},i),[e("v-icon",{staticClass:"mr-3"},[a._v("mdi-upload")]),a._v(" upload sekolah ")],1)]}}]),model:{value:a.dialog,callback:function(t){a.dialog=t},expression:"dialog"}},[e("v-card",[e("v-card-title",{staticClass:"py-2"},[a._v(" Upload Sekolah ")]),e("v-divider"),e("v-form",{ref:"form",model:{value:a.valid,callback:function(t){a.valid=t},expression:"valid"}},[e("v-card-text",{staticClass:"pa-6"},[e("div",[a._v(" Silahkan upload data dari excel sesuai template yang sudah disediakan, jika belum ada silahkan download templatenya "),e("a",{attrs:{target:"_blank",href:"https://drive.google.com/open?id=12NBX_iSqqvZJPBG-ZtjLBZdu8ftUEXaB"}},[a._v(" disini. ")])]),e("v-file-input",{attrs:{loading:a.isLoading,accept:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel","show-size":"",counter:"",rules:a.requiredRule,label:"File excel template"},on:{change:a.importingData}}),e("Notif",{attrs:{msg:a.msg,status:a.status},on:{visible:a.visible}})],1),e("v-divider"),e("v-card-actions",[e("v-spacer"),e("v-btn",{attrs:{color:"primary",text:""},on:{click:function(t){a.dialog=!1}}},[a._v(" kembali ")]),e("v-btn",{attrs:{disabled:!a.valid,loading:a.isLoading,color:"primary",type:"submit",depressed:""},on:{click:function(t){return t.preventDefault(),a.validate(t)}}},[a._v(" simpan ")])],1)],1)],1)],1)},U=[],Z=(e("d81d"),e("ace4"),e("d3b7"),e("5cc6"),e("9a8c"),e("a975"),e("735e"),e("c1ac"),e("d139"),e("3a7b"),e("d5d6"),e("82f8"),e("e91f"),e("60bd"),e("5f96"),e("3280"),e("3fcc"),e("ca91"),e("25a1"),e("cd26"),e("3c5d"),e("2954"),e("649e"),e("219c"),e("170b"),e("b39a"),e("72f7"),e("1146")),G=e.n(Z),X={data:function(){return{dialog:!1,valid:!0,requiredRule:[function(a){return!!a||"Data harus diisi"}],dataSheets:[],msg:{success:"Berhasil diupload",error:"Gagal diupload",visible:!1}}},components:{Notif:v["a"]},computed:Object(s["a"])({},Object(o["b"])("dataSekolah",["isLoading","status"])),methods:{importingData:function(a){var t=this,e=new FileReader;e.readAsArrayBuffer(a),e.onload=function(a){var i=new Uint8Array(e.result),l=G.a.read(i,{type:"array"});l.SheetNames.map((function(a,e){var i=l.Sheets[l.SheetNames[e]],d=G.a.utils.sheet_to_json(i);d.map((function(a,e){delete a.NO,delete a.__EMPTY,t.dataSheets[e]=a}))}))}},validate:function(){this.$refs.form.validate()&&(this.$store.dispatch("dataSekolah/postDataSekolah",this.dataSheets),this.$store.dispatch("dataSekolah/updateIsLoading",!0),this.msg.visible=!0)},visible:function(a){this.msg.visible=a}}},z=X,M=e("23a7"),Y=Object(k["a"])(z,F,U,!1,null,null,null),H=Y.exports;h()(Y,{VBtn:g["a"],VCard:S["a"],VCardActions:_["a"],VCardText:_["b"],VCardTitle:_["c"],VDialog:x["a"],VDivider:j["a"],VFileInput:M["a"],VForm:V["a"],VIcon:D["a"],VSpacer:y["a"]});var Q={components:{UploadSekolah:H,TambahSekolah:I,DataSekolah:L}},W=Q,aa=Object(k["a"])(W,i,l,!1,null,null,null);t["default"]=aa.exports;h()(aa,{VCard:S["a"],VCardText:_["b"],VCardTitle:_["c"],VDivider:j["a"],VIcon:D["a"]})}}]);
//# sourceMappingURL=chunk-2d22d7ba.35c66427.js.map